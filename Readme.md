# Secure Hardware Interface Companion App

**Project Overview**  
This project is a cross-platform mobile application serving as a visual interface companion for secure external hardware modules. Users can view data generated by the device, confirm external prompts, and interact via Bluetooth.

> **Note:** This repository contains only the UI and device communication logic, excluding any cryptographic operations or financial workflows.

---

## Related Documentation

The project root contains multiple subdirectories, each with corresponding README.md files detailing the functionality and structure of that directory. Key documentation locations and descriptions are as follows:

- `components/README.md`: Description of the components directory, providing an overview of all React Native components.
- `components/ActivityScreen/README.md`: Description of transaction page components, detailing transaction flows and related functions.
- `components/SecureDeviceScreen/README.md`: Description of general page components, covering device connection and state management.
- `components/VaultScreen/README.md`: Description of asset page components, including asset display and management features.
- `utils/README.md`: Description of utility functions directory, outlining various helper functions and their responsibilities.

Please refer to the respective documents for more detailed module information.

---

## Technology Stack

- React Native (based on Expo)
- Bluetooth Low Energy (BLE) support
- Native integration for iOS and Android

---

## Project Structure

- `android/`: Android native project code and configuration
- `ios/`: iOS native project code and configuration
- `assets/`: Static resources such as images, videos, and icons used by the app
- `components/`: React Native component code
- `config/`: Project configuration files, such as asset info, chain configuration, languages, etc.
- `docs/`: Project-related documentation
- `patches/`: Patches for third-party dependencies
- `store/`: State management related code
- `styles/`: Style files
- `utils/`: Utility functions and helper code
- Configuration files in the root directory like `app.config.js`, `babel.config.js`, `metro.config.js`, `package.json`, etc., responsible for project configuration, build, and dependency management

---

## Installation and Running

### Environment Preparation

- Please install [Node.js](https://nodejs.org/), recommended version v23.10.0 or higher
- Please install Expo CLI via command line by running:
  ```bash
  npm install -g expo-cli
  ```
- Xcode version must be greater than Version 16.4 (16F6)
- npm or yarn
- Xcode (required for macOS iOS development)
- CocoaPods (iOS native dependency management)

### Installation Steps

1. **Step1_installlegacy:** Install all dependencies

   ```bash
   yarn install
   ```

2. **Step2_updateNative:** Generate iOS and Android native projects

   ```bash
   expo prebuild
   ```

3. **Step3_podinstall:** Install CocoaPods dependencies for iOS

   ```bash
   cd ios && pod install && cd ..
   ```

4. **Step4.1_ios:** Run the app on iOS simulator or device

   ```bash
   expo run:ios
   ```

5. **Step4.2_android:** Run the app on Android emulator or device

   ```bash
   expo run:android
   ```

### Common Issues and Solutions

- Clear cache and restart

  ```bash
  npx react-native start --reset-cache
  ```

- Reinstall iOS native dependencies

  ```bash
  cd ios && pod install && cd ..
  ```

---

## Configuration Instructions

### iOS BLE Configuration

To support iOS background Bluetooth functionality, add the following to `ios/Info.plist`:

```xml
<key>UIBackgroundModes</key>
<array>
  <string>bluetooth-central</string>
</array>
```

Enable `Background Modes > Uses Bluetooth LE accessories` in Xcode.

---

## Usage Guide

Main features of this app include:

- Connecting to secure hardware devices via Bluetooth
- Viewing addresses and data generated by the device
- Confirming operation prompts from the device
- Displaying device-related history and status information

---

## Project Structure

- `android/`: Android native project code and configuration
- `ios/`: iOS native project code and configuration
- `assets/`: Static resources such as images, videos, and icons used by the app
- `components/`: React Native component code
- `config/`: Project configuration files, such as asset info, chain configuration, languages, etc.
- `docs/`: Project-related documentation
- `patches/`: Patches for third-party dependencies
- `store/`: State management related code
- `styles/`: Style files
- `utils/`: Utility functions and helper code
- Configuration files in the root directory like `app.config.js`, `babel.config.js`, `metro.config.js`, `package.json`, etc., responsible for project configuration, build, and dependency management

---
